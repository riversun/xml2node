<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>xml2node.js example</title>
    <style>
        textarea.box1 {
            flex-shrink: 0;
            resize: none;
            width: 400px;
            height: 300px;
        }

        textarea.box2 {
            flex-shrink: 0;
            resize: none;
            width: 970px;
            height: 300px;
        }

        div {
            display: flex;
            align-items: center;
        }

        div.column {
            display: flex;
            flex-direction: column;;
        }

        button {
            margin: 20px;
            width: 120px;
            height: 60px;
        }

    </style>

</head>
<body>

<header>xml2node demo</header>

<div>
    <div class="column">
        <span>XML</span>
        <textarea id="text-input" class="box1"></textarea></div>
    <button id="button-run">CONVERT</button>
    <div class="column">
        <span>JSON</span>
        <textarea id="text-output" class="box1" readonly></textarea>
    </div>
</div>
<br>

<div>
    <div class="column">
        <span>Source code example</span>
        <textarea id="text-output2" class="box2" readonly></textarea>
    </div>
</div>

<script src="Xml2Node.js"></script>


<script>

    var xml =
        '<?xml version="1.0" encoding="utf-8"?>' + '\n' +
        '<opml version="2.0">' + '\n' +
        '  <head>' + '\n' +
        '    <title>Original Title</title>' + '\n' +
        '  </head>' + '\n' +
        '  <body>' + '\n' +
        '    <outline text="Greeting" title="Chapter1">' + '\n' +
        '      <outline text="We say good morning in the morning."/>' + '\n' +
        '      <outline text="We say hello at noon."/>' + '\n' +
        '      <outline text="We say good evening at night."/>' + '\n' +
        '    </outline>' + '\n' +
        '    <outline text="Thank" title="Chapter2">' + '\n' +
        '      <outline text="Thank you."/>' + '\n' +
        '      <outline text="Appreciate it."/>' + '\n' +
        '    </outline>' + '\n' +
        '  </body>' + '\n' +
        '</opml>';

    var textInput = document.querySelector("#text-input");
    var textOutput = document.querySelector("#text-output");
    var textOutput2 = document.querySelector("#text-output2");
    var buttonRun = document.querySelector("#button-run");


    textInput.textContent = xml;


    var funcConvert = function (evt) {
        var parser = new Xml2Node.Parser();

        var jsObject = parser.parseXML(textInput.value);
        var node = new Xml2Node.Node(jsObject);

        var hintCode = parser.generateExampleSourceCode(textInput.value);
        textOutput.textContent = JSON.stringify(jsObject, null, " ");
        textOutput2.textContent = hintCode;
    }

    buttonRun.addEventListener("click", funcConvert);

</script>
</body>
</html>