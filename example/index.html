<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>xml2node.js example</title>
    <style>
        textarea.box1 {
            flex-shrink: 0;
            resize: none;
            width: 400px;
            height: 300px;
        }

        textarea.box2 {
            flex-shrink: 0;
            resize: none;
            width: 970px;
            height: 300px;
        }

        div {
            display: flex;
            align-items: center;
        }

        div.column {
            display: flex;
            flex-direction: column;;
        }

        button {
            margin: 20px;
            width: 120px;
            height: 60px;
        }

    </style>

</head>
<body>

<header>xml2node demo</header>

<div>
    <div class="column">
        <span>XML</span>
        <textarea id="text-input" class="box1"></textarea></div>
    <button id="button-run">CONVERT</button>
    <div class="column">
        <span>JSON</span>
        <textarea id="text-output" class="box1" readonly></textarea>
    </div>
</div>
<br>

<div>
    <div class="column">
        <span>Source code example</span>
        <textarea id="text-output2" class="box2" readonly></textarea>
    </div>
</div>

<script src="Xml2Node.js"></script>
<script src="XmlNode.js"></script>


<script>

    var xml =
        '<?xml version="1.0" encoding="utf-8"?>' + '\n' +
        '<opml version="2.0">' + '\n' +
        '  <head>' + '\n' +
        '    <title>Original Title</title>' + '\n' +
        '  </head>' + '\n' +
        '  <body>' + '\n' +
        '    <outline text="Greeting" title="Chapter1">' + '\n' +
        '      <outline text="We say good morning in the morning."/>' + '\n' +
        '      <outline text="We say hello at noon."/>' + '\n' +
        '      <outline text="We say good evening at night."/>' + '\n' +
        '    </outline>' + '\n' +
        '    <outline text="Thank" title="Chapter2">' + '\n' +
        '      <outline text="Thank you."/>' + '\n' +
        '      <outline text="Appreciate it."/>' + '\n' +
        '    </outline>' + '\n' +
        '  </body>' + '\n' +
        '</opml>';
      xml =
        '<html>\n' +
        '    <body>\n' +
        '        <!--        StartFragment-->\n' +
        '        <ul  style="margin: 15px 0px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 13px; vertical-align: baseline; background: transparent; list-style: disc; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Arial, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;">\n' +
        '            <li  style="margin: 4px 0px 4px 20px; padding: 0px; border: 0px; outline: 0px; font-size: 13px; vertical-align: baseline; background: transparent;">\n' +
        '                <span  class="name" data-wfid="8fd17f1fec1b" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 13px; vertical-align: baseline; background: transparent; white-space: pre-wrap;">今日の晩ご飯</span>\n' +
        '                <ul  style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 13px; vertical-align: baseline; background: transparent; list-style: disc;">\n' +
        '                    <li  style="margin: 4px 0px 4px 20px; padding: 0px; border: 0px; outline: 0px; font-size: 13px; vertical-align: baseline; background: transparent;">\n' +
        '                        <span  class="name" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 13px; vertical-align: baseline; background: transparent; white-space: pre-wrap;">今日の晩ご飯、何にしようか？（ママ）</span>\n' +
        '                    </li>\n' +
        '                    <li  style="margin: 4px 0px 4px 20px; padding: 0px; border: 0px; outline: 0px; font-size: 13px; vertical-align: baseline; background: transparent;">\n' +
        '                        <span  class="name" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 13px; vertical-align: baseline; background: transparent; white-space: pre-wrap;">うーん、どうしようかな（ママ）</span>\n' +
        '                    </li>\n' +
        '                </ul>\n' +
        '            </li>\n' +
        '            <li  style="margin: 4px 0px 4px 20px; padding: 0px; border: 0px; outline: 0px; font-size: 13px; vertical-align: baseline; background: transparent;">\n' +
        '                <span  class="name" data-wfid="b0d790e3d8fc" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 13px; vertical-align: baseline; background: transparent; white-space: pre-wrap;">サッパリしたものとは何か</span>\n' +
        '                <ul  style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 13px; vertical-align: baseline; background: transparent; list-style: disc;">\n' +
        '                    <li  style="margin: 4px 0px 4px 20px; padding: 0px; border: 0px; outline: 0px; font-size: 13px; vertical-align: baseline; background: transparent;">\n' +
        '                        <span  class="name" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 13px; vertical-align: baseline; background: transparent; white-space: pre-wrap;">サッパリしたものが食べたいな。（パパ）</span>\n' +
        '                    </li>\n' +
        '                    <li  style="margin: 4px 0px 4px 20px; padding: 0px; border: 0px; outline: 0px; font-size: 13px; vertical-align: baseline; background: transparent;">\n' +
        '                        <span  class="name" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 13px; vertical-align: baseline; background: transparent; white-space: pre-wrap;">アタイはハンバーガーが食べたい（娘）</span>\n' +
        '                    </li>\n' +
        '                    <li  style="margin: 4px 0px 4px 20px; padding: 0px; border: 0px; outline: 0px; font-size: 13px; vertical-align: baseline; background: transparent;">\n' +
        '                        <span  class="name" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 13px; vertical-align: baseline; background: transparent; white-space: pre-wrap;">サッパリしたものって何よ？（ママ）</span>\n' +
        '                    </li>\n' +
        '                    <li  style="margin: 4px 0px 4px 20px; padding: 0px; border: 0px; outline: 0px; font-size: 13px; vertical-align: baseline; background: transparent;">\n' +
        '                        <span  class="name" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 13px; vertical-align: baseline; background: transparent; white-space: pre-wrap;">そりゃお寿司にきまってるじゃん。（パパ）</span>\n' +
        '                    </li>\n' +
        '                    <li  style="margin: 4px 0px 4px 20px; padding: 0px; border: 0px; outline: 0px; font-size: 13px; vertical-align: baseline; background: transparent;">\n' +
        '                        <span  class="name" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 13px; vertical-align: baseline; background: transparent; white-space: pre-wrap;">私は素麺たべたいかも（ママ）</span>\n' +
        '                    </li>\n' +
        '                    <li  style="margin: 4px 0px 4px 20px; padding: 0px; border: 0px; outline: 0px; font-size: 13px; vertical-align: baseline; background: transparent;">\n' +
        '                        <span  class="name" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 13px; vertical-align: baseline; background: transparent; white-space: pre-wrap;">素麺もわるくないね。（パパ）</span>\n' +
        '                    </li>\n' +
        '                    <li  style="margin: 4px 0px 4px 20px; padding: 0px; border: 0px; outline: 0px; font-size: 13px; vertical-align: baseline; background: transparent;">\n' +
        '                        <span  class="name" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 13px; vertical-align: baseline; background: transparent; white-space: pre-wrap;">冷やし中華がいい（娘）</span>\n' +
        '                        <ul  style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 13px; vertical-align: baseline; background: transparent; list-style: disc;">\n' +
        '                            <li  style="margin: 4px 0px 4px 20px; padding: 0px; border: 0px; outline: 0px; font-size: 13px; vertical-align: baseline; background: transparent;">\n' +
        '                                <span  class="name" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 13px; vertical-align: baseline; background: transparent; white-space: pre-wrap;">麺類がいいんだね（パパ）</span>\n' +
        '                            </li>\n' +
        '                        </ul>\n' +
        '                    </li>\n' +
        '                </ul>\n' +
        '            </li>\n' +
        '        </ul>\n' +
        '        <!--        EndFragment-->\n' +
        '    </body>\n' +
        '</html>';

    xml='<html>\n' +
        '<body>\n' +
        '<!--StartFragment--><ul><li>今日の晩ご飯<ul><li>今日の晩ご飯、何にしようか？（ママ）</li><li>うーん、どうしようかな（ママ）</li></ul></li><li>サッパリしたものとは何か<ul><li>サッパリしたものが食べたいな。（パパ）</li><li>アタイはハンバーガーが食べたい（娘）</li><li>サッパリしたものって何よ？（ママ）</li><li>そりゃお寿司にきまってるじゃん。（パパ）</li><li>私は素麺たべたいかも（ママ）</li><li>素麺もわるくないね。（パパ）</li><li>冷やし中華がいい（娘）<ul><li>麺類がいいんだね（パパ）</li></ul></li></ul></li></ul><!--EndFragment-->\n' +
        '</body>\n' +
        '</html>';
    var textInput = document.querySelector("#text-input");
    var textOutput = document.querySelector("#text-output");
    var textOutput2 = document.querySelector("#text-output2");
    var buttonRun = document.querySelector("#button-run");


    textInput.textContent = xml;


    var funcConvert = function (evt) {
        var parser = new Xml2Node();

        var jsObject = parser.parseXML(textInput.value);
        var node = new XmlNode(jsObject);

        var hintCode = parser.generateExampleSourceCode(textInput.value);
        textOutput.textContent = JSON.stringify(jsObject, null, " ");
        textOutput2.textContent = hintCode;
    }

    buttonRun.addEventListener("click", funcConvert);
    funcConvert();

</script>
</body>
</html>